{% extends 'base.html' %}
{% load static %}

{% block title %}Магазин одежды{% endblock %}

{% block content %}
<h1>Все товары</h1>

<!-- Поиск -->
<form method="get" action="{% url 'clothes:search_clothes' %}" style="margin-bottom:20px;">
    <input type="text" name="q" placeholder="Поиск по названию..." value="{{ request.GET.q }}">
    <button type="submit" class="btn btn-add">Искать</button>
</form>

<!-- Фильтры -->
<div class="filters" style="margin-bottom:20px;">
    <a href="{% url 'clothes:men_clothes' %}" class="btn btn-add">Мужская одежда</a>
    <a href="{% url 'clothes:women_clothes' %}" class="btn btn-add">Женская одежда</a>
    <a href="{% url 'clothes:kids_clothes' %}" class="btn btn-add">Детская одежда</a>
</div>

<div class="books-grid">
    {% if items %}
        {% for item in items %}
            <div class="book-card">
                {% if item.image %}
                    <img src="{{ item.image.url }}" alt="{{ item.title }}">
                {% else %}
                    {% load static %}
                    <img src="{% static 'images/default.png' %}" alt="Нет изображения">
                {% endif %}
                <h2>{{ item.title }}</h2>
                {% if item.description %}
                    <p>{{ item.description|truncatewords:15 }}</p>
                {% endif %}
                <p>Цена: {{ item.price }} сом</p>
                <a href="{% url 'clothes:item_detail' item.id %}" class="btn btn-add">Подробнее</a>
            </div>
        {% endfor %}
    {% else %}
        <p>Товаров пока нет.</p>
    {% endif %}
</div>
{% endblock %}












